<div class="panel panel-default">
	<div class="panel-heading overf-h">
		{{!-- filtro de búsqueda --}}
		{{#if showGlobalFilter}}
			{{partial 'components/table-simple/global-filter'}}
		{{/if}}
		
		{{#if actionNew}}
			{{#if createInline}}
				<button type="button" class="btn {{newElementClass}}" {{action 'showCreate'}}>New Element</button>
			{{else}}
				{{#each properties as |prop|}}
					{{#if prop.isVisible}}
						{{!-- hay que tener cuidado de no permitir la propiedad value en properties --}}
						{{input type=prop.type placeholder=prop.title value=prop.value}} 
					{{/if}}
				{{/each}}
				<button type="button" class="btn  btn-warning" {{action 'new'}}>New</button>
			{{/if}}
		{{/if}}
	</div>
  	<div class="panel-body">
		<table class="{{if tableStriped 'table-striped'}} {{if tableBordered 'table-bordered'}} {{if tableCondensed 'table-condensed'}} table">
			<thead>
				<tr class="color-th">
					{{#each properties as |prop|}}
						{{#if prop.isVisible}}
							<th class="text-center v-middle">
								{{prop.title}}
								<span class='glyphicon glyphicon-triangle-top' aria-hidden='true' {{action 'sort' 'asc' prop.name}}></span>
	          					<span class='glyphicon glyphicon-triangle-bottom' aria-hidden='true' {{action 'sort' 'desc' prop.name}}></span>
							</th>
						{{/if}}
					{{/each}}
					{{#if actionsColumn}}
						<th class="text-center v-middle">
							Actions
						</th>
					{{/if}}
				</tr>
			</thead>

			<tbody>
				{{!-- row para crear nuevo elemento si pasan createInline --}}
				{{#if createInline}}
					<tr class={{showCreateRow}}>
						{{#each properties as |prop|}}
							{{#if prop.isVisible}}
								<td class="text-center v-middle">
									{{input class="inputNewRow" type=prop.type placeholder=prop.title value=prop.value}} 
								</td>
							{{/if}}
						{{/each}}
						<td class="text-center">
							<button type ="button" class="btn  btn-success w-40" {{action 'new'}}>Save</button>
							<button type ="button" class="btn  btn-danger w-40" {{action 'cancelNew'}}>Cancel</button>
						</td>
					</tr>
				{{/if}}
				{{!-- contenido de la tabla --}}
				{{#each visibleContent as |doc|}}
					<tr class={{doc.visivility}}>
						{{#each properties as |prop|}}
							{{#if prop.isVisible}}
								<td class="text-center v-middle">
									<span>{{get doc prop.name}}</span>
								</td>
							{{/if}}
						{{/each}}

						{{!-- columna de acciones --}}
						{{#if actionsColumn}}
							<td class="text-center">
								{{#if route-edit}}
									{{!-- linkeamos a la ruta del detalle para poder editar --}}
									{{#link-to route-edit doc.id}}
										{{#if editInline}}
											<button class="btn  btn-success w-30" {{action 'editInline' doc}}><span class='glyphicon glyphicon-pencil'></span></button>
										{{else}}
											<button class="btn  btn-success w-30" data-toggle="modal" data-target="#modalDetail"><span class='glyphicon glyphicon-pencil'></span></button>
										{{/if}}
									{{/link-to}}
								{{/if}}
								{{#if actionDel}}
									<button class="btn  btn-danger w-30" onClick={{action 'delete' doc}}><span class='glyphicon glyphicon-trash'></span></button>
								{{/if}}
							</td>
						{{/if}}
					</tr>
					{{#if editInline}}
						{{!-- outlet por fila para mostrar la edición en linea --}}
						{{#if doc.visivilityEdit}}
							<tr class="color-up-elem">
								{{outlet}}
							</tr>
						{{/if}}
					{{/if}}
					
				{{/each}}
			</tbody>
		</table>
		{{!-- paginación --}}
		{{#if showTableFooter}}
			{{partial 'components/table-simple/table-footer'}}
		{{/if}}
	</div>
</div>

{{!-- outlet para mostrar el modal de edición --}}
{{#unless editInline}}
	{{outlet}}
{{/unless}}

  
